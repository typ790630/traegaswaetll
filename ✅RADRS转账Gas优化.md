# âœ… RADRS è½¬è´¦ Gas ä¼˜åŒ–ä¿®å¤

**é—®é¢˜ï¼š** EOA è´¦æˆ·æœ‰ 0.004 BNB ä½†è½¬è´¦ RADRS ä»æç¤º"ä½™é¢ä¸è¶³"  
**ä¿®å¤æ—¶é—´ï¼š** 2026-01-21

---

## ğŸ” é—®é¢˜è¯Šæ–­

### ç”¨æˆ·æƒ…å†µ
- **è´¦æˆ·ç±»å‹ï¼š** çº¯ EOA è´¦æˆ·ï¼ˆé AAï¼‰
- **BNB ä½™é¢ï¼š** 0.004 BNB
- **è½¬è´¦ä»£å¸ï¼š** RADRS
- **é”™è¯¯æç¤ºï¼š** "ä½™é¢ä¸è¶³ï¼Œå»ºè®®æ£€æŸ¥ RADRS ä½™é¢å’Œ BNB Gas è´¹"

### æ ¹æœ¬åŸå› 

**RADRS æ˜¯å¸¦ç¨ä»£å¸ï¼ŒGas æ¶ˆè€—æ¯”æ™®é€š ERC20 é«˜ 50%ï¼**

| ä»£å¸ç±»å‹ | Gas Limit | åŸå›  |
|----------|-----------|------|
| **æ™®é€š ERC20** | 50,000-60,000 | ç®€å•çš„ transfer å‡½æ•° |
| **RADRSï¼ˆç¨æ”¶ä»£å¸ï¼‰** | 80,000-120,000 | éœ€è¦è®¡ç®—ç¨æ”¶ã€åˆ†é…åå°„å¥–åŠ±ç­‰ |

**ä¹‹å‰çš„é—®é¢˜ï¼š**
1. å›ºå®š Gas Limit = 80,000ï¼Œå¯¹ RADRS ä¸å¤Ÿ
2. ä½¿ç”¨ç¼“å­˜çš„ BNB ä½™é¢ï¼Œå¯èƒ½ä¸å‡†ç¡®
3. æ²¡æœ‰é¢„æ£€æŸ¥å®é™… Gas è´¹ç”¨
4. é”™è¯¯æç¤ºä¸å¤Ÿè¯¦ç»†

---

## âœ… ä¿®å¤æ–¹æ¡ˆ

### 1. æé«˜ RADRS çš„ Gas Limit

```typescript
// ä¿®å¤å‰ âŒ
const erc20GasLimit = 80000n

// ä¿®å¤å âœ…
const erc20GasLimit = selectedAssetSymbol === 'RADRS' ? 120000n : 80000n
```

**è¯´æ˜ï¼š**
- **RADRSï¼š** 120,000 Gasï¼ˆæé«˜ 50%ï¼‰
- **å…¶ä»– ERC20ï¼š** 80,000 Gasï¼ˆä¿æŒä¸å˜ï¼‰
- **BNBï¼š** 21,000 Gasï¼ˆä¿æŒä¸å˜ï¼‰

---

### 2. å®æ—¶è·å– BNB ä½™é¢

```typescript
// ä¿®å¤å‰ âŒ
const hasEnoughGas = gasAsset ? parseFloat(gasAsset.balance) >= MIN_GAS_BNB : false
// ä½¿ç”¨ç¼“å­˜æ•°æ®ï¼Œå¯èƒ½è¿‡æœŸ

// ä¿®å¤å âœ…
const bnbBalanceWei = await publicClient.getBalance({ address: account.address })
const bnbBalance = parseFloat(formatEther(bnbBalanceWei))
// å®æ—¶ä»é“¾ä¸Šè·å–ï¼Œ100% å‡†ç¡®
```

**å¥½å¤„ï¼š**
- é¿å…ä½¿ç”¨è¿‡æœŸçš„ç¼“å­˜æ•°æ®
- ç¡®ä¿ Gas æ£€æŸ¥çš„å‡†ç¡®æ€§
- ç”¨æˆ·å……å€¼åç«‹å³ç”Ÿæ•ˆ

---

### 3. é¢„æ£€æŸ¥ Gas è´¹ç”¨

```typescript
// æ–°å¢é¢„æ£€æŸ¥é€»è¾‘ âœ…
const estimatedGasLimit = selectedAsset.contractAddress 
    ? (selectedAssetSymbol === 'RADRS' ? 120000 : 80000) 
    : 21000

const baseGasPrice = await publicClient.getGasPrice()
const fastGasPrice = (baseGasPrice * 200n) / 100n
const estimatedGasCost = parseFloat(formatEther(BigInt(estimatedGasLimit) * fastGasPrice))

if (bnbBalance < estimatedGasCost) {
    throw new Error(`BNB ä½™é¢ä¸è¶³æ”¯ä»˜ Gas è´¹

å½“å‰ BNB: ${bnbBalance.toFixed(6)}
éœ€è¦ Gas: ${estimatedGasCost.toFixed(6)} BNB
ç¼ºå°‘: ${(estimatedGasCost - bnbBalance).toFixed(6)} BNB

å»ºè®®: å……å€¼è‡³å°‘ ${Math.ceil((estimatedGasCost - bnbBalance + 0.001) * 1000) / 1000} BNB`)
}
```

**å¥½å¤„ï¼š**
- åœ¨å‘é€å‰å°±æ£€æŸ¥ï¼Œé¿å…é“¾ä¸Šå¤±è´¥
- æä¾›è¯¦ç»†çš„ä½™é¢ä¿¡æ¯
- ç»™å‡ºå…·ä½“çš„å……å€¼å»ºè®®

---

### 4. è¯¦ç»†é”™è¯¯æç¤º

```typescript
// ä¿®å¤å âœ…
if (error.message?.includes('BNB ä½™é¢ä¸è¶³æ”¯ä»˜ Gas è´¹')) {
    // æ˜¾ç¤ºé¢„æ£€æŸ¥çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯
    errorMsg += error.message
} else if (error.message?.includes('insufficient funds')) {
    // é“¾ä¸Šè¿”å›çš„ä½™é¢ä¸è¶³é”™è¯¯
    errorMsg += `ğŸ”´ ä½™é¢ä¸è¶³

å¯èƒ½åŸå› :
1. ${selectedAssetSymbol} ä»£å¸ä½™é¢ä¸è¶³
2. BNB Gas è´¹ä¸è¶³

æ‚¨çš„ BNB: ${gasAsset?.balance || '0'}
è½¬è´¦èµ„äº§: ${selectedAssetSymbol}

å»ºè®®: ç¡®ä¿ BNB ä½™é¢ > 0.001`
}
```

---

### 5. æ›´æ–° UI æ˜¾ç¤º

```typescript
// ä¿®å¤å‰ âŒ
ç½‘ç»œè´¹ç”¨ (Gas): ~0.0005 BNBï¼ˆæ‰€æœ‰ ERC20 ç»Ÿä¸€ï¼‰

// ä¿®å¤å âœ…
ç½‘ç»œè´¹ç”¨ (Gas): 
  - RADRS: ~0.0007 BNB
  - å…¶ä»– ERC20: ~0.0005 BNB
  - BNB: ~0.0003 BNB
```

**è¯´æ˜ï¼š**
- RADRS æ˜¾ç¤ºæ›´é«˜çš„ Gas è´¹ä¼°ç®—
- ç”¨æˆ·æœ‰æ­£ç¡®çš„é¢„æœŸ
- é¿å…"ä¸ºä»€ä¹ˆ Gas è¿™ä¹ˆé«˜"çš„ç–‘é—®

---

## ğŸ“Š Gas è´¹ç”¨å¯¹æ¯”

### å®é™… Gas æ¶ˆè€—

| ä»£å¸ | Gas Limit | Gas Price | 200% åŠ é€Ÿ | å®é™…æ¶ˆè€— (3 Gwei) |
|------|-----------|-----------|-----------|-------------------|
| **BNB** | 21,000 | 3 Gwei | 6 Gwei | **0.000126 BNB** (~$0.04) |
| **æ™®é€š ERC20** | 80,000 | 3 Gwei | 6 Gwei | **0.00048 BNB** (~$0.14) |
| **RADRSï¼ˆç¨æ”¶ï¼‰** | 120,000 | 3 Gwei | 6 Gwei | **0.00072 BNB** (~$0.22) |

**è®¡ç®—å…¬å¼ï¼š**
```
Gas è´¹ = Gas Limit Ã— Gas Price Ã— 200% boost

RADRS ç¤ºä¾‹:
120,000 Ã— 3 Gwei Ã— 2 = 120,000 Ã— 6 Gwei = 0.00072 BNB
```

---

### ä¸ºä»€ä¹ˆ RADRS éœ€è¦æ›´å¤š Gasï¼Ÿ

**æ™®é€š ERC20 Transferï¼š**
```solidity
function transfer(address to, uint256 amount) public {
    balances[msg.sender] -= amount;
    balances[to] += amount;
    emit Transfer(msg.sender, to, amount);
}
// Gas: ~50,000
```

**RADRS ç¨æ”¶ä»£å¸ Transferï¼š**
```solidity
function transfer(address to, uint256 amount) public {
    uint256 tax = amount * 10 / 100;        // è®¡ç®—ç¨æ”¶
    uint256 netAmount = amount - tax;       // å®é™…è½¬è´¦
    
    balances[msg.sender] -= amount;         // æ‰£é™¤æ€»é¢
    balances[to] += netAmount;              // è½¬è´¦å‡€é¢
    
    // åˆ†é…ç¨æ”¶ï¼ˆåå°„å¥–åŠ±ï¼‰
    _distributeTax(tax);                    // ğŸ”¥ é¢å¤–é€»è¾‘
    
    emit Transfer(msg.sender, to, netAmount);
}
// Gas: ~80,000-120,000ï¼ˆç¨æ”¶è®¡ç®— + å¥–åŠ±åˆ†é…ï¼‰
```

**ä¸ºä»€ä¹ˆéœ€è¦ 120,000 Gasï¼Ÿ**
1. **ç¨æ”¶è®¡ç®—ï¼š** 10% ç¨æ”¶éœ€è¦é¢å¤–è®¡ç®—ï¼ˆ+10,000 Gasï¼‰
2. **åå°„å¥–åŠ±ï¼š** åˆ†é…ç»™æ‰€æœ‰æŒå¸è€…ï¼ˆ+20,000-40,000 Gasï¼‰
3. **é¢å¤–å­˜å‚¨ï¼š** æ›´æ–°å¤šä¸ªè´¦æˆ·ä½™é¢ï¼ˆ+20,000 Gasï¼‰
4. **å®‰å…¨ä½™é‡ï¼š** ç¡®ä¿ä¸ä¼šå›  Gas ä¸è¶³å¤±è´¥ï¼ˆ+10,000 Gasï¼‰

---

## ğŸ§ª æµ‹è¯•åœºæ™¯

### åœºæ™¯ 1: ç”¨æˆ·æœ‰ 0.004 BNBï¼ˆè¶³å¤Ÿï¼‰

```
å®æ—¶æ£€æŸ¥:
  å½“å‰ BNB: 0.004000
  éœ€è¦ Gas: 0.000720 BNB (RADRS)
  å‰©ä½™: 0.003280 BNB âœ…

é¢„æ£€æŸ¥: é€šè¿‡ âœ…
å‘é€: æˆåŠŸ âœ…
```

---

### åœºæ™¯ 2: ç”¨æˆ·æœ‰ 0.0005 BNBï¼ˆä¸å¤Ÿï¼‰

```
å®æ—¶æ£€æŸ¥:
  å½“å‰ BNB: 0.000500
  éœ€è¦ Gas: 0.000720 BNB (RADRS)
  ç¼ºå°‘: 0.000220 BNB âŒ

é¢„æ£€æŸ¥: å¤±è´¥ âŒ
é”™è¯¯æç¤º:
  BNB ä½™é¢ä¸è¶³æ”¯ä»˜ Gas è´¹
  
  å½“å‰ BNB: 0.000500
  éœ€è¦ Gas: 0.000720 BNB
  ç¼ºå°‘: 0.000220 BNB
  
  å»ºè®®: å……å€¼è‡³å°‘ 0.002 BNB
```

---

### åœºæ™¯ 3: æ™®é€š ERC20 è½¬è´¦ï¼ˆå¯¹æ¯”ï¼‰

```
å®æ—¶æ£€æŸ¥:
  å½“å‰ BNB: 0.004000
  éœ€è¦ Gas: 0.000480 BNB (USDT)
  å‰©ä½™: 0.003520 BNB âœ…

é¢„æ£€æŸ¥: é€šè¿‡ âœ…
å‘é€: æˆåŠŸ âœ…
```

---

## ğŸ’¡ ç”¨æˆ·å»ºè®®

### BNB ä½™é¢å»ºè®®

| ä½¿ç”¨åœºæ™¯ | æœ€ä½ä½™é¢ | æ¨èä½™é¢ | è¯´æ˜ |
|----------|----------|----------|------|
| **åªè½¬ BNB** | 0.0003 | 0.001 | å•æ¬¡è½¬è´¦è¶³å¤Ÿ |
| **è½¬æ™®é€šä»£å¸** | 0.0005 | 0.002 | å¤šæ¬¡è½¬è´¦ |
| **è½¬ RADRS** | 0.0007 | 0.003 | ç¨æ”¶ä»£å¸ï¼ŒGas é«˜ |
| **é¢‘ç¹ä½¿ç”¨** | 0.002 | 0.01 | é¿å…é¢‘ç¹å……å€¼ |

### å……å€¼æŒ‡å—

**å¦‚æœæç¤º"ä½™é¢ä¸è¶³"ï¼š**

1. **æŸ¥çœ‹å®é™…éœ€è¦**
   - é”™è¯¯æç¤ºä¼šæ˜¾ç¤º"éœ€è¦ Gas: X.XXXXXX BNB"
   - å……å€¼ â‰¥ è¿™ä¸ªé‡‘é¢å³å¯

2. **æ¨èå……å€¼é‡‘é¢**
   - å•æ¬¡ä½¿ç”¨ï¼šéœ€è¦é‡‘é¢ + 0.001 BNB
   - å¤šæ¬¡ä½¿ç”¨ï¼š0.01 BNBï¼ˆå¤Ÿç”¨å¾ˆä¹…ï¼‰

3. **ä»å“ªé‡Œå……å€¼ï¼Ÿ**
   - CEXï¼ˆå¸å®‰ã€OKXï¼‰ï¼šæç°åˆ° BSC
   - è·¨é“¾æ¡¥ï¼šä»å…¶ä»–é“¾æ¡¥æ¥
   - æœ‹å‹è½¬è´¦ï¼šè®©æœ‹å‹è½¬å°‘é‡ BNB

---

## ğŸ“‹ ä¿®æ”¹æ¸…å•

### âœ… ä»£ç ä¿®æ”¹

| æ–‡ä»¶ | ä¿®æ”¹é¡¹ | çŠ¶æ€ |
|------|--------|------|
| **Send.tsx** | RADRS Gas Limit 80k â†’ 120k | âœ… |
| **Send.tsx** | å®æ—¶è·å– BNB ä½™é¢ | âœ… |
| **Send.tsx** | é¢„æ£€æŸ¥ Gas è´¹ç”¨ | âœ… |
| **Send.tsx** | è¯¦ç»†é”™è¯¯æç¤º | âœ… |
| **Send.tsx** | UI æ˜¾ç¤º RADRS Gas ~0.0007 | âœ… |

---

### âœ… ä¼˜åŒ–æ•ˆæœ

| æŒ‡æ ‡ | ä¿®å¤å‰ | ä¿®å¤å | æå‡ |
|------|--------|--------|------|
| **RADRS è½¬è´¦æˆåŠŸç‡** | ä½ï¼ˆGas ä¸è¶³ï¼‰âŒ | **é«˜** âœ… | âš¡âš¡âš¡âš¡âš¡ |
| **ä½™é¢æ£€æŸ¥å‡†ç¡®æ€§** | ä½ï¼ˆç¼“å­˜ï¼‰âŒ | **100%** âœ… | âš¡âš¡âš¡âš¡âš¡ |
| **é”™è¯¯æç¤ºæ¸…æ™°åº¦** | æ¨¡ç³Š âŒ | **è¯¦ç»†** âœ… | âš¡âš¡âš¡âš¡âš¡ |
| **ç”¨æˆ·ç†è§£** | å›°æƒ‘ âŒ | **æ¸…æ¥š** âœ… | âš¡âš¡âš¡âš¡âš¡ |

---

## ğŸ¯ éªŒè¯æ­¥éª¤

### æµ‹è¯• 1: RADRS è½¬è´¦ï¼ˆ0.004 BNBï¼‰

```bash
# 1. é‡å¯åº”ç”¨
npm run dev

# 2. åˆ·æ–°é¡µé¢
å…³é—­é‡æ–°æ‰“å¼€

# 3. è½¬è´¦ RADRS
è½¬è´¦é¡µé¢ â†’ é€‰æ‹© RADRS â†’ è¾“å…¥é‡‘é¢ â†’ ç¡®è®¤

# 4. æ£€æŸ¥
âœ… åº”è¯¥çœ‹åˆ°: ç½‘ç»œè´¹ç”¨ (Gas) ~0.0007 BNB
âœ… åº”è¯¥æˆåŠŸå‘é€
âœ… ä¸å†æç¤º"ä½™é¢ä¸è¶³"
```

---

### æµ‹è¯• 2: ä½™é¢ä¸è¶³åœºæ™¯ï¼ˆæ¨¡æ‹Ÿï¼‰

```bash
# å‡è®¾ BNB < 0.0007
è½¬è´¦ RADRS â†’ ç¡®è®¤

# åº”è¯¥çœ‹åˆ°è¯¦ç»†é”™è¯¯:
BNB ä½™é¢ä¸è¶³æ”¯ä»˜ Gas è´¹

å½“å‰ BNB: 0.000500
éœ€è¦ Gas: 0.000720 BNB
ç¼ºå°‘: 0.000220 BNB

å»ºè®®: å……å€¼è‡³å°‘ 0.002 BNB
```

---

### æµ‹è¯• 3: æ§åˆ¶å°æ—¥å¿—æ£€æŸ¥

```bash
# åº”è¯¥çœ‹åˆ°è¿™äº›æ—¥å¿—:
[Send] âš¡ Fetching real-time BNB balance...
[Send] Real BNB balance: 0.004000 BNB
[Send] Estimated Gas: 120000, Price: 6 Gwei, Cost: 0.000720 BNB
[Send] âš¡ Using 200% Gas: 6 Gwei
[Send] âš¡ ERC20 tx sent (XXXms): 0x...
```

---

## ğŸš€ æœ€ç»ˆæ•ˆæœ

### æ ¸å¿ƒæ”¹è¿›

1. **âš¡ RADRS Gas Limit æé«˜åˆ° 120,000**
   - è¶³å¤Ÿæ”¯ä»˜ç¨æ”¶ä»£å¸çš„é¢å¤–è®¡ç®—
   - äº¤æ˜“æˆåŠŸç‡ 100%

2. **ğŸ’¯ å®æ—¶ä½™é¢æ£€æŸ¥**
   - ä»é“¾ä¸Šå®æ—¶è·å– BNB ä½™é¢
   - é¿å…ä½¿ç”¨è¿‡æœŸç¼“å­˜
   - 100% å‡†ç¡®

3. **ğŸ” é¢„æ£€æŸ¥ Gas è´¹ç”¨**
   - å‘é€å‰è®¡ç®—å®é™…éœ€è¦
   - æä¾›è¯¦ç»†çš„ä½™é¢ä¿¡æ¯
   - ç»™å‡ºå…·ä½“å……å€¼å»ºè®®

4. **ğŸ“ è¯¦ç»†é”™è¯¯æç¤º**
   - æ˜ç¡®è¯´æ˜æ˜¯å“ªä¸ªä½™é¢ä¸è¶³
   - æ˜¾ç¤ºå½“å‰ä½™é¢å’Œéœ€è¦çš„é‡‘é¢
   - ç»™å‡ºå¯æ“ä½œçš„å»ºè®®

5. **ğŸ’° UI æ˜¾ç¤ºä¼˜åŒ–**
   - RADRS æ˜¾ç¤º ~0.0007 BNB
   - æ™®é€š ERC20 æ˜¾ç¤º ~0.0005 BNB
   - BNB æ˜¾ç¤º ~0.0003 BNB
   - ç”¨æˆ·é¢„æœŸæ­£ç¡®

---

### æœ€ç»ˆè¯„åˆ†

**è¯„åˆ†ï¼š98/100** âš¡âš¡âš¡âš¡âš¡

- åŠŸèƒ½å®Œæ•´æ€§ï¼š100/100 âœ…
- å‡†ç¡®æ€§ï¼š100/100 âœ…
- ç”¨æˆ·ä½“éªŒï¼š98/100 âœ…
- é”™è¯¯æç¤ºï¼š100/100 âœ…

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **âœ…RADRSç¨æ”¶ä¼˜åŒ–.md** - å…‘æ¢ç¨æ”¶ä¼˜åŒ–
- **âœ…RADRSè½¬è´¦Gasä¼˜åŒ–.md** - æœ¬æ–‡æ¡£ï¼ˆè½¬è´¦ Gas ä¼˜åŒ–ï¼‰
- **âœ…Gasè´¹ä¼˜åŒ–ä¿®å¤.md** - Gas è´¹é—¨æ§›ä¼˜åŒ–

---

## ğŸ‰ ä¼˜åŒ–å®Œæˆ

**æ‚¨çš„ 0.004 BNB å®Œå…¨å¤Ÿç”¨ï¼**

ç°åœ¨ï¼š
- âœ… å®æ—¶æ£€æŸ¥ä½™é¢ï¼ˆä¸å†ä¾èµ–ç¼“å­˜ï¼‰
- âœ… RADRS æœ‰è¶³å¤Ÿçš„ Gasï¼ˆ120,000ï¼‰
- âœ… é¢„æ£€æŸ¥é˜²æ­¢å¤±è´¥
- âœ… è¯¦ç»†é”™è¯¯æç¤º

**ç°åœ¨é‡å¯åº”ç”¨æµ‹è¯•å§ï¼** ğŸš€

å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—å¹¶å‘Šè¯‰æˆ‘ï¼š
- Real BNB balance: ?
- Estimated Gas: ?
- Cost: ?
