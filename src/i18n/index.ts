import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';

// English translations
const en = {
  common: {
    back: 'Back',
    next: 'Next',
    confirm: 'Confirm',
    cancel: 'Cancel',
    copy: 'Copy',
    copied: 'Copied',
    loading: 'Loading...',
    success: 'Success',
    error: 'Error',
    warning: 'Warning',
    networkFee: 'Network Fee',
    paidIn: 'Paid in {{token}}',
    insufficientBalance: 'Insufficient {{token}} balance',
    unlock: 'Unlock',
    iUnderstand: 'I Understand',
    verify: 'Verify',
    getStarted: 'Get Started',
  },
  splash: {
    slogan: 'Secure · Non-Custodial · Global',
  },
  wallet: {
    title: 'Wallet',
    account: 'Account',
    network: 'Network',
    totalBalance: 'Total Balance',
    receive: 'Receive',
    send: 'Send',
    swap: 'Swap',
    assets: 'Assets',
    usedForGas: 'Used for network fees',
    createWallet: 'Create Wallet',
    deleteWallet: 'Delete Wallet',
    addAccount: 'Add Account',
    removeAccount: 'Remove Account',
    addToken: 'Add Token',
    addCustomToken: 'Add Custom Token',
    contractAddress: 'Contract Address',
    search: 'Search',
    symbol: 'Symbol',
    name: 'Name',
    decimals: 'Decimals',
    invalidAddress: 'Invalid Contract Address',
    tokenNotFound: 'Token not found or network error',
    create: {
      nameTitle: 'Name Your Wallet',
      nameDesc: 'Give your new wallet a nickname to recognize it easily.',
      walletNamePlaceholder: 'Wallet Name',
      secureTitle: 'Secure Your Wallet',
      secureDesc: "Don't risk losing your funds. protect your wallet by saving your Secret Recovery Phrase in a place you trust.",
      loseWarning: 'If you lose your secret phrase, your funds will be lost forever.',
      writeDown: 'Write it down and store it in a secure offline location.',
      backupTitle: 'Write Down Your Seed Phrase',
      backupDesc: 'This is your Secret Recovery Phrase. Write it down on a paper and keep it in a safe place.',
      verifyTitle: 'Verify Seed Phrase',
      verifyDesc: 'Tap the words in the correct order to verify your Secret Recovery Phrase.',
      incorrectOrder: 'Incorrect order! Please try again.',
      successTitle: 'All Done!',
      successDesc: 'Your wallet has been created and secured.',
    },
    help: {
        title: 'Wallet & Account Types',
        mainWallet: 'Main Wallet',
        mainWalletDesc: 'The primary wallet for platform deposits, withdrawals, and transfers. Usually not used for direct trading.',
        savingsWallet: 'Savings Wallet',
        savingsWalletDesc: 'Used for depositing assets to earn interest. Funds must be transferred from Main or Trading wallet.',
        tradingAccount: 'Trading Account',
        tradingAccountDesc: 'Dedicated account for executing trades (Spot/Futures). Funds are usually transferred here from the Main Wallet.',
        subAccount: 'Sub-Account (e.g., Account 1)',
        subAccountDesc: 'Specific sub-accounts under a Trading Account for strategy isolation or fund separation.',
    }
  },
  receive: {
    title: 'Receive {{token}}',
    scanQr: 'Scan address to receive payment',
    share: 'Share',
  },
  send: {
    title: 'Send {{token}}',
    selectAsset: 'Select Asset',
    availableBalance: 'Available Balance',
    toAddress: 'To Address',
    amount: 'Amount',
    max: 'Max',
    previewSend: 'Preview Send',
    confirmTitle: 'Confirm Transaction',
    from: 'From',
    to: 'To',
    confirmSend: 'Confirm Send',
  },
  swap: {
    title: 'Swap',
    from: 'From',
    to: 'To',
    estimated: 'Estimated',
    rate: 'Rate',
    priceImpact: 'Price Impact',
    button: 'Swap',
  },
  activity: {
    title: 'Activity',
    all: 'All',
    wallet: 'Wallet',
    noActivity: 'No activity yet',
  },
  referral: {
    title: 'Referral System',
    dashboard: 'Dashboard',
    totalEarnings: 'Total Earnings',
    bindingBonus: 'Binding Bonus',
    gasCommission: 'Gas Commission',
    invitedUsers: 'Invited Users',
    activeUsers: 'Active Users',
    recentInvites: 'Recent Invites',
    bindReferrer: 'Bind Referrer',
    bindDesc: 'Bind a referrer to activate your account and unlock the 5 RADRS welcome bonus.',
    referrerPlaceholder: '0x... (Referrer Address)',
    bind: 'Bind',
    cannotBindSelf: 'Cannot bind yourself',
    referrerBound: 'Referrer Bound',
    newUserBonus: 'New User Bonus',
    claimTitle: 'Claim 5 RADRS',
    claimRequirement: 'Requirement: Hold ≥ 200 RADRS',
    currentBalance: 'Current Balance',
    claimed: 'Claimed',
    bindFirst: 'Bind Referrer First',
    insufficientBalance: 'Insufficient Balance',
    claimReward: 'Claim Reward',
    promotionTools: 'Promotion Tools',
    copyLink: 'Copy Link',
    sharePoster: 'Share Poster',
    rulesDesc: 'Earn 10 RADRS for each referral + 10% Gas Commission permanently.',
  },
  settings: {
    title: 'Settings',
    account: 'Account',
    walletManager: 'Wallet Manager',
    backupPhrase: 'Backup Recovery Phrase',
    exportKey: 'Export Private Key',
    referral: 'Referral Program',
    securityCenter: 'Security Center',
    security: 'Security',
    appSecurity: 'App Security',
    appLock: 'App Lock',
    biometrics: 'Biometrics',
    network: 'Network',
    rpc: 'RPC (Advanced)',
    legal: 'Legal',
    terms: 'Terms',
    privacy: 'Privacy Policy',
    language: 'Language',
    appLockDesc: 'Require password when opening app',
    biometricsDesc: 'Unlock with FaceID / TouchID',
    networkDesc: 'Select the blockchain network you want to interact with.',
    connected: 'Connected',
    setPassword: 'Set Password',
    setPasswordDesc: 'Please set a password with at least 6 characters to protect your app',
    changePassword: 'Change Password',
    changePasswordDesc: 'Enter your old password and new password',
    newPassword: 'New Password',
    oldPassword: 'Old Password',
    confirmPassword: 'Confirm Password',
  },
  recovery: {
    title: 'Recovery Phrase',
    subtitle: 'Write down these 12 words in order and keep them safe.',
    tapToReveal: 'Tap to Reveal',
    warning: 'Never share this phrase with anyone.',
    copy: 'Copy to Clipboard',
  },
  privateKey: {
    title: 'Private Key',
    warning: 'Do not take screenshots',
    warningText: 'Anyone with your private key can steal your assets. Never share it with anyone.',
    show: 'Show Private Key',
    hide: 'Hide Private Key',
  },
  cards: {
    title: 'Virtual Cards',
    apply: 'Apply',
    open: 'Open',
    disclaimerTitle: 'Leaving Radar Wallet?',
    disclaimerText: 'You are about to be redirected to a third-party website to apply for a virtual card. Radar Wallet does not issue cards, handle KYC, or store card details.',
    disclaimerConfirm: 'Continue',
    cancel: 'Cancel',
    addCardTitle: 'Add Card Shortcut',
    cardName: 'Card Name',
    provider: 'Provider',
    tag: 'Usage Tag (Optional)',
    footer: 'Radar Wallet does not issue cards or provide banking services. Virtual card applications are handled entirely by third-party providers. Availability depends on your region and the provider’s policies.',
    recommendedGuide: 'Recommended for mainland China users',
    tags: {
      daily: 'Daily Spend',
      online: 'Online Payment',
      sub: 'Subscription',
      backup: 'Backup'
    },
    actions: {
      favorite: 'Favorite',
      unfavorite: 'Unfavorite',
      rename: 'Rename',
      remove: 'Remove'
    },
    partnerTags: {
      'CN Friendly': 'CN Friendly',
      'Recommended': 'Recommended',
      'Fast Setup': 'Fast Setup',
      'Limited': 'Limited',
      'Passport': 'Passport',
      'Passport Required': 'Passport Required',
      'Region Dependent': 'Region Dependent',
      'Custom': 'Custom'
    },
    statusTypes: {
      active: 'Active',
      pending: 'Pending',
      rejected: 'Rejected'
    },
    noCards: 'No cards added yet',
    selectProvider: 'Select Provider',
    other: 'Other',
    customTag: 'Custom Tag',
    status: 'Status'
  },
  security: {
    enterPassword: 'Enter Password',
    passwordDesc: 'Please enter your password to unlock',
    passwordPlaceholder: 'Enter password',
    wrongPassword: 'Incorrect password',
    passwordRequired: 'Password is required',
    passwordTooShort: 'Password must be at least 6 characters',
    passwordMismatch: 'Passwords do not match',
    enableAppLockFirst: 'Please enable App Lock first',
    useBiometrics: 'Use Biometric Authentication',
    biometricSuccess: 'Biometric authentication successful!\n(This is a demo feature)',
    mnemonic: 'Seed Phrase',
    privateKey: 'Private Key',
    mnemonicWarning: 'This Secret Recovery Phrase is the master key to your wallet. It can recover all accounts. Never share it with anyone.',
    tapToReveal: 'Tap to Reveal',
    copyMnemonic: 'Copy Seed Phrase',
    privateKeyWarning: 'This Private Key controls ONLY the current account ({{name}}). Do not share it.',
    copyPrivateKey: 'Copy Private Key',
  },
  qrScanner: {
    title: 'Scan QR Code',
    instruction: 'Align the QR code within the frame to scan',
    scanImage: 'Scan an Image File',
    permissionDenied: 'Camera access needed',
    requestPermission: 'Request Camera Permissions',
    error: 'Failed to scan image'
  }
};

// Chinese translations
const zh = {
  common: {
    back: '返回',
    next: '下一步',
    confirm: '确认',
    cancel: '取消',
    copy: '复制',
    copied: '已复制',
    loading: '加载中...',
    success: '成功',
    error: '错误',
    warning: '警告',
    networkFee: '网络费用',
    paidIn: '使用 {{token}} 支付',
    insufficientBalance: '{{token}} 余额不足',
    unlock: '解锁',
    iUnderstand: '我已了解',
    verify: '验证',
    getStarted: '开始使用',
  },
  splash: {
    slogan: '安全 · 非托管 · 全球化',
  },
  wallet: {
    title: '钱包',
    account: '账户',
    network: '网络',
    totalBalance: '总资产',
    receive: '收款',
    send: '转账',
    swap: '兑换',
    assets: '资产列表',
    usedForGas: '用于网络费用',
    createWallet: '创建钱包',
    deleteWallet: '删除钱包',
    addAccount: '添加账户',
    removeAccount: '移除账户',
    addToken: '添加代币',
    addCustomToken: '添加自定义代币',
    contractAddress: '合约地址',
    search: '搜索',
    symbol: '符号',
    name: '名称',
    decimals: '精度',
    invalidAddress: '无效的合约地址',
    tokenNotFound: '未找到代币或网络错误',
    create: {
      nameTitle: '命名您的钱包',
      nameDesc: '为您的新钱包取一个昵称，方便识别。',
      walletNamePlaceholder: '钱包名称',
      secureTitle: '保护您的钱包',
      secureDesc: '不要冒着失去资金的风险。请将您的秘密恢复短语保存在您信任的地方来保护您的钱包。',
      loseWarning: '如果您丢失了助记词，您的资金将永久丢失。',
      writeDown: '请将其抄写并保存在安全的离线位置。',
      backupTitle: '抄写您的助记词',
      backupDesc: '这是您的秘密恢复短语。请将其抄写在纸上并保存在安全的地方。',
      verifyTitle: '验证助记词',
      verifyDesc: '按正确的顺序点击单词以验证您的秘密恢复短语。',
      incorrectOrder: '顺序不正确！请重试。',
      successTitle: '全部完成！',
      successDesc: '您的钱包已创建并受到保护。',
    },
    help: {
        title: '钱包与账户说明',
        mainWallet: '主钱包',
        mainWalletDesc: '平台内的主资金钱包，用于充值、提现、收款或向其他账户划转资金；通常不直接参与交易。',
        savingsWallet: '储蓄钱包/账户',
        savingsWalletDesc: '用于存入资产以获取利息（活期/定期等）。资金需从主钱包或交易账户划转进入；提现或交易前通常需转回。',
        tradingAccount: '交易账户',
        tradingAccountDesc: '用于实际下单交易（现货/合约等）的资金账户；资金一般从主钱包划转到此账户后才能交易。',
        subAccount: '子账户 (如账户 1)',
        subAccountDesc: '交易账户下的具体子账户，便于区分和管理不同策略或资金分隔。',
    }
  },
  receive: {
    title: '收款 {{token}}',
    scanQr: '扫描二维码以接收付款',
    share: '分享',
  },
  send: {
    title: '转账 {{token}}',
    selectAsset: '选择资产',
    availableBalance: '可用余额',
    toAddress: '接收地址',
    amount: '金额',
    max: '最大',
    previewSend: '预览转账',
    confirmTitle: '确认交易',
    from: '付款方',
    to: '收款方',
    confirmSend: '确认转账',
  },
  swap: {
    title: '兑换',
    from: '支付',
    to: '获得',
    estimated: '预估',
    rate: '汇率',
    priceImpact: '价格影响',
    button: '兑换',
  },
  activity: {
    title: '活动',
    all: '全部',
    wallet: '钱包',
    noActivity: '暂无活动记录',
  },
  referral: {
    title: '推荐系统',
    dashboard: '仪表盘',
    totalEarnings: '总收益',
    bindingBonus: '绑定奖励',
    gasCommission: 'Gas 佣金',
    invitedUsers: '邀请用户',
    activeUsers: '活跃用户',
    recentInvites: '最近邀请',
    bindReferrer: '绑定推荐人',
    bindDesc: '绑定推荐人以激活账户并解锁 5 RADRS 欢迎奖励。',
    referrerPlaceholder: '0x... (推荐人地址)',
    bind: '绑定',
    cannotBindSelf: '不能绑定自己',
    referrerBound: '推荐人已绑定',
    newUserBonus: '新用户奖励',
    claimTitle: '领取 5 RADRS',
    claimRequirement: '要求：持有 ≥ 200 RADRS',
    currentBalance: '当前余额',
    claimed: '已领取',
    bindFirst: '请先绑定推荐人',
    insufficientBalance: '余额不足',
    claimReward: '领取奖励',
    promotionTools: '推广工具',
    copyLink: '复制链接',
    sharePoster: '分享海报',
    rulesDesc: '每邀请一人赚取 10 RADRS + 永久 10% Gas 佣金。',
  },
  settings: {
    title: '设置',
    account: '账户',
    walletManager: '钱包管理',
    backupPhrase: '备份助记词',
    exportKey: '导出私钥',
    referral: '推荐计划',
    securityCenter: '安全中心',
    security: '安全',
    appSecurity: '应用安全',
    appLock: '应用锁',
    biometrics: '生物识别',
    network: '网络',
    rpc: 'RPC 节点 (高级)',
    legal: '法律条款',
    terms: '服务条款',
    privacy: '隐私政策',
    language: '语言',
    appLockDesc: '打开应用时需要密码',
    biometricsDesc: '使用 FaceID / TouchID 解锁',
    networkDesc: '选择您要交互的区块链网络。',
    connected: '已连接',
    setPassword: '设置密码',
    setPasswordDesc: '请设置一个至少6位的密码来保护您的应用',
    changePassword: '修改密码',
    changePasswordDesc: '请输入旧密码和新密码',
    newPassword: '新密码',
    oldPassword: '旧密码',
    confirmPassword: '确认密码',
  },
  recovery: {
    title: '助记词',
    subtitle: '请按顺序抄写这12个单词并妥善保管。',
    tapToReveal: '点击显示',
    warning: '切勿将助记词分享给任何人。',
    copy: '复制到剪贴板',
  },
  privateKey: {
    title: '私钥',
    warning: '禁止截图',
    warningText: '拥有私钥即可完全控制您的资产。切勿将其分享给任何人。',
    show: '显示私钥',
    hide: '隐藏私钥',
  },
  cards: {
    title: '虚拟卡',
    apply: '申请',
    open: '打开',
    disclaimerTitle: '离开 Radar Wallet?',
    disclaimerText: '您即将跳转至第三方网站申请虚拟卡。Radar Wallet 不发卡、不处理 KYC，也不存储卡片详情。',
    disclaimerConfirm: '继续',
    cancel: '取消',
    addCardTitle: '添加卡片快捷方式',
    cardName: '卡片名称',
    provider: '服务商',
    tag: '用途标签 (可选)',
    footer: 'Radar Wallet 不发卡，也不提供银行服务。虚拟卡申请完全由第三方服务商处理。可用性取决于您所在的地区和服务商政策。',
    recommendedGuide: '中国大陆用户推荐',
    tags: {
      daily: '日常消费',
      online: '在线支付',
      sub: '订阅扣款',
      backup: '备用卡'
    },
    actions: {
      favorite: '收藏',
      unfavorite: '取消收藏',
      rename: '重命名',
      remove: '移除'
    },
    partnerTags: {
      'CN Friendly': '支持中国',
      'Recommended': '推荐',
      'Fast Setup': '快速开户',
      'Limited': '受限',
      'Passport': '护照',
      'Passport Required': '需护照',
      'Region Dependent': '分地区',
      'Custom': '自定义'
    },
    statusTypes: {
      active: '活跃',
      pending: '待定',
      rejected: '已拒绝'
    },
    noCards: '暂无卡片',
    selectProvider: '选择服务商',
    other: '其他',
    customTag: '自定义标签',
    status: '状态'
  },
  security: {
    enterPassword: '输入密码',
    passwordDesc: '请输入密码以解锁',
    passwordPlaceholder: '请输入密码',
    wrongPassword: '密码错误',
    passwordRequired: '请输入密码',
    passwordTooShort: '密码至少需要6位',
    passwordMismatch: '两次密码不一致',
    enableAppLockFirst: '请先启用应用锁',
    useBiometrics: '使用生物识别',
    biometricSuccess: '生物识别验证成功！\n（这是模拟功能）',
    mnemonic: '助记词',
    privateKey: '私钥',
    mnemonicWarning: '助记词是您钱包的主密钥，可用于恢复所有账户。切勿将其分享给任何人。',
    tapToReveal: '点击显示',
    copyMnemonic: '复制助记词',
    privateKeyWarning: '此私钥仅控制当前账户 ({{name}})。切勿将其分享给任何人。',
    copyPrivateKey: '复制私钥',
  },
  qrScanner: {
    title: '扫描二维码',
    instruction: '将二维码对准框内以扫描',
    scanImage: '扫描图片文件',
    permissionDenied: '需要相机权限',
    requestPermission: '请求相机权限',
    error: '扫描图片失败'
  }
};

i18n
  .use(initReactI18next)
  .init({
    resources: {
      en: { translation: en },
      zh: { translation: zh },
    },
    lng: 'zh', // ✅ 强制默认中文
    fallbackLng: 'zh', // ✅ 降级语言也是中文
    detection: {
      order: ['localStorage', 'navigator'],
      caches: ['localStorage'],
      lookupLocalStorage: 'i18nextLng',
    },
    interpolation: {
      escapeValue: false,
    },
  });

// ✅ 确保初始化后设置为中文（防止 localStorage 覆盖）
if (!localStorage.getItem('i18nextLng') || localStorage.getItem('i18nextLng') === 'en') {
  localStorage.setItem('i18nextLng', 'zh');
  i18n.changeLanguage('zh');
}

export default i18n;
