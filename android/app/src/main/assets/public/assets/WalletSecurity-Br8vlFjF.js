import{c as P,u as W,a as z,b as R,r as n,G as A,H as M,j as e,B as i,J as $}from"./index-DiZJZs_I.js";import{C as E,a as H}from"./card-C8Plr-Mm.js";import{A as f}from"./arrow-left-LfTt41SV.js";import{K as g}from"./key-ClabLGG1.js";import{E as N}from"./eye-BTJyBkvD.js";import{C as b}from"./copy-EbfEcPKK.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],x=P("shield-check",B);function O(){var v;const{t}=W(),c=z(),{getCurrentWallet:k}=R(),s=k(),[C,w]=n.useState(!1),[o,p]=n.useState("mnemonic"),[a,l]=n.useState(!1),[u,h]=n.useState(!1),d=((v=s==null?void 0:s.mnemonic)==null?void 0:v.split(" "))||null,y=n.useMemo(()=>{if(!(s!=null&&s.mnemonic))return console.warn("[WalletSecurity] âš ï¸ No mnemonic found"),"";try{const r=A(s.mnemonic),S=M.fromMasterSeed(r).derive("m/44'/60'/0'/0/0").privateKey,K=`0x${Array.from(S).map(T=>T.toString(16).padStart(2,"0")).join("")}`;return console.log("[WalletSecurity] âœ… Private key derived from mnemonic"),K}catch(r){return console.error("[WalletSecurity] âŒ Failed to derive private key:",r),""}},[s==null?void 0:s.mnemonic]),j=r=>{navigator.clipboard.writeText(r),h(!0),setTimeout(()=>h(!1),2e3)};return C?e.jsxs("div",{className:"min-h-screen bg-background-primary text-text-primary p-4 pb-8 max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 pt-4",children:[e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>c(-1),children:e.jsx(f,{className:"w-6 h-6"})}),e.jsx("h1",{className:"text-xl font-bold",children:t("settings.securityCenter","Security Center")}),e.jsx("div",{className:"w-10"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex p-1 bg-background-tertiary rounded-xl",children:[e.jsxs("button",{className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2 ${o==="mnemonic"?"bg-background-secondary shadow-sm text-text-primary":"text-text-secondary"}`,onClick:()=>{p("mnemonic"),l(!1)},children:[e.jsx(x,{className:"w-4 h-4"}),t("security.mnemonic","Seed Phrase")]}),e.jsxs("button",{className:`flex-1 py-2 text-sm font-medium rounded-lg transition-all flex items-center justify-center gap-2 ${o==="privateKey"?"bg-background-secondary shadow-sm text-text-primary":"text-text-secondary"}`,onClick:()=>{p("privateKey"),l(!1)},children:[e.jsx(g,{className:"w-4 h-4"}),t("security.privateKey","Private Key")]})]}),o==="mnemonic"&&e.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-status-warning/10 p-4 rounded-xl flex gap-3 border border-status-warning/20",children:[e.jsx(x,{className:"w-5 h-5 text-status-warning shrink-0"}),e.jsx("p",{className:"text-xs text-text-secondary leading-relaxed",children:t("security.mnemonicWarning","This Secret Recovery Phrase is the master key to your wallet. It can recover all accounts. Never share it with anyone.")})]}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:`grid grid-cols-3 gap-3 p-4 bg-background-tertiary rounded-xl border border-divider ${a?"":"blur-md"}`,children:d.map((r,m)=>e.jsxs("div",{className:"flex gap-2 items-center bg-background-primary/50 p-2 rounded-lg",children:[e.jsxs("span",{className:"text-xs text-text-secondary w-4",children:[m+1,"."]}),e.jsx("span",{className:"font-mono font-medium text-sm",children:r})]},m))}),!a&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 cursor-pointer",onClick:()=>l(!0),children:e.jsxs("div",{className:"bg-background-primary px-4 py-2 rounded-full shadow-lg border border-divider flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-bold",children:t("security.tapToReveal","Tap to Reveal")})]})})]}),a&&e.jsxs(i,{variant:"secondary",className:"w-full",onClick:()=>j(d.join(" ")),children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),u?t("common.copied","Copied"):t("security.copyMnemonic","Copy Seed Phrase")]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-status-error/10 p-6 rounded-xl flex flex-col gap-4 border-2 border-status-error/30",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(x,{className:"w-6 h-6 text-status-error shrink-0"}),e.jsx("h3",{className:"text-lg font-bold text-status-error",children:t("security.noMnemonic","æœªæ‰¾åˆ°åŠ©è®°è¯")})]}),e.jsxs("div",{className:"space-y-2 text-sm text-text-secondary",children:[e.jsx("p",{children:"âš ï¸ æ­¤é’±åŒ…æ²¡æœ‰åŠ©è®°è¯ï¼Œæ— æ³•æ¢å¤ï¼"}),e.jsx("p",{children:"å¯èƒ½çš„åŽŸå› ï¼š"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[e.jsx("li",{children:"é’±åŒ…æ•°æ®æ¥è‡ªæ—§ç‰ˆæœ¬"}),e.jsx("li",{children:"ä½¿ç”¨äº†æµè§ˆå™¨ç¼“å­˜çš„æ•°æ®"}),e.jsx("li",{children:"é’±åŒ…åˆ›å»ºæ—¶å‡ºé”™"})]}),e.jsx("p",{className:"font-bold text-status-error mt-3",children:"ðŸš¨ å¼ºçƒˆå»ºè®®ï¼šåˆ›å»ºæ–°é’±åŒ…æˆ–å¯¼å…¥å·²æœ‰åŠ©è®°è¯ï¼"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{variant:"primary",className:"flex-1",onClick:()=>c("/settings/create-wallet"),children:"åˆ›å»ºæ–°é’±åŒ…"}),e.jsx(i,{variant:"secondary",className:"flex-1",onClick:()=>c("/settings/import-wallet"),children:"å¯¼å…¥é’±åŒ…"})]})]})}),o==="privateKey"&&e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-300",children:[e.jsxs("div",{className:"bg-status-error/10 p-4 rounded-xl flex gap-3 border border-status-error/20",children:[e.jsx(g,{className:"w-5 h-5 text-status-error shrink-0"}),e.jsx("p",{className:"text-xs text-text-secondary leading-relaxed",children:t("security.privateKeyWarning",{defaultValue:"This Private Key controls ONLY the current account ({{name}}). Do not share it.",name:s==null?void 0:s.name})})]}),e.jsx(E,{className:"bg-background-tertiary border-divider",children:e.jsx(H,{className:"p-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("p",{className:`font-mono break-all text-text-primary text-lg ${a?"":"blur-md select-none"}`,children:y}),!a&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10 cursor-pointer",onClick:()=>l(!0),children:e.jsxs("div",{className:"bg-background-primary px-4 py-2 rounded-full shadow-lg border border-divider flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-bold",children:t("security.tapToReveal","Tap to Reveal")})]})})]})})}),a&&e.jsxs(i,{variant:"secondary",className:"w-full",onClick:()=>j(y),children:[e.jsx(b,{className:"w-4 h-4 mr-2"}),u?t("common.copied","Copied"):t("security.copyPrivateKey","Copy Private Key")]})]})]})]}):e.jsxs("div",{className:"min-h-screen bg-background-primary text-text-primary p-4",children:[e.jsx("div",{className:"flex items-center mb-6 pt-4",children:e.jsx(i,{variant:"ghost",size:"icon",onClick:()=>c(-1),children:e.jsx(f,{className:"w-6 h-6"})})}),e.jsx($,{onUnlock:()=>w(!0)})]})}export{O as default};
