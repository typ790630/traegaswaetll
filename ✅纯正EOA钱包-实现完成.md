# âœ… çº¯æ­£ EOA é’±åŒ… - å®ç°å®ŒæˆæŠ¥å‘Š

å®Œæˆæ—¶é—´ï¼š2026-01-22

---

## ğŸ¯ **å®ç°ç›®æ ‡**

å°†é’±åŒ…ä» Account Abstraction (AA) æ¶æ„å½»åº•æ”¹ä¸º **Pure EOAï¼ˆçº¯ EOAï¼‰** æ¶æ„ã€‚

---

## âœ… **å·²å®Œæˆçš„ä¿®æ”¹**

### **1. ReferralService - æ¨èç³»ç»Ÿï¼ˆæ ¸å¿ƒä¿®æ”¹ï¼‰**

**æ–‡ä»¶ï¼š** `src/services/ReferralService.ts`

#### **ä¿®æ”¹å‰ï¼ˆAA æ¨¡å¼ï¼‰ï¼š**
```typescript
import { AAService } from './AAService'

bindReferrer: async (privateKey: string, referrerAddress: string) => {
  const signer = AAService.getSigner(privateKey)
  const txHash = await AAService.bindReferrer(signer, referrerAddress)
  // ä½¿ç”¨ Paymaster æ”¯ä»˜ Gas
}

claimReward: async (privateKey: string) => {
  const signer = AAService.getSigner(privateKey)
  const txHash = await AAService.claimReward(signer)
  // ä½¿ç”¨ Paymaster æ”¯ä»˜ Gas
}
```

#### **ä¿®æ”¹åï¼ˆEOA æ¨¡å¼ï¼‰ï¼š**
```typescript
import { createWalletClient, http } from 'viem'
import { privateKeyToAccount } from 'viem/accounts'
import { bsc } from 'viem/chains'

bindReferrer: async (privateKey: string, referrerAddress: string) => {
  // âš¡ Pure EOA: ç›´æ¥ç”¨ç§é’¥ç­¾å
  const account = privateKeyToAccount(privateKey)
  const walletClient = createWalletClient({
    account,
    chain: bsc,
    transport: http(RADRS_CONFIG.rpcUrl)
  })
  
  const txHash = await walletClient.writeContract({
    address: RADRS_CONFIG.referralRegistryAddress,
    abi: REFERRAL_ABI,
    functionName: 'bindReferrer',
    args: [referrerAddress]
  })
  // âš¡ ç”¨ BNB æ”¯ä»˜ Gasï¼ˆä¸ä½¿ç”¨ Paymasterï¼‰
}

claimReward: async (privateKey: string) => {
  // âš¡ Pure EOA: ç›´æ¥ç”¨ç§é’¥ç­¾å
  const account = privateKeyToAccount(privateKey)
  const walletClient = createWalletClient({
    account,
    chain: bsc,
    transport: http(RADRS_CONFIG.rpcUrl)
  })
  
  const txHash = await walletClient.writeContract({
    address: RADRS_CONFIG.referralRegistryAddress,
    abi: REFERRAL_ABI,
    functionName: 'claimReward',
    args: []
  })
  // âš¡ ç”¨ BNB æ”¯ä»˜ Gasï¼ˆä¸ä½¿ç”¨ Paymasterï¼‰
}
```

**å…³é”®å˜åŒ–ï¼š**
- âœ… ç§»é™¤ AAService ä¾èµ–
- âœ… ç›´æ¥ä½¿ç”¨ viem çš„ `walletClient.writeContract`
- âœ… ç”¨ BNB æ”¯ä»˜ Gasï¼ˆä¸å†ä½¿ç”¨ Paymasterï¼‰
- âœ… æ·»åŠ äº¤æ˜“ç¡®è®¤ç­‰å¾…
- âœ… å¢å¼ºé”™è¯¯å¤„ç†å’Œæ—¥å¿—

---

### **2. AAService - æ ‡è®°ä¸ºåºŸå¼ƒ**

**æ–‡ä»¶ï¼š** `src/services/AAService.ts`

**æ·»åŠ åºŸå¼ƒè­¦å‘Šï¼š**
```typescript
/**
 * âš ï¸âš ï¸âš ï¸ DEPRECATED - æ­¤æ–‡ä»¶å·²åºŸå¼ƒ âš ï¸âš ï¸âš ï¸
 * 
 * æœ¬æ–‡ä»¶åŒ…å« Account Abstraction (AA) ç›¸å…³ä»£ç ï¼Œå·²ä¸å†ä½¿ç”¨ã€‚
 * å½“å‰é’±åŒ…æ¶æ„ï¼šPure EOAï¼ˆçº¯ EOA é’±åŒ…ï¼‰
 * 
 * åºŸå¼ƒåŸå› ï¼š
 * 1. é’±åŒ…å·²æ”¹ä¸ºçº¯ EOA æ¶æ„
 * 2. æ‰€æœ‰äº¤æ˜“ç›´æ¥ç”¨ EOA ç§é’¥ç­¾å
 * 3. Gas è´¹ç”¨ BNB æ”¯ä»˜ï¼ˆä¸ä½¿ç”¨ Paymasterï¼‰
 * 
 * è¿ç§»å®Œæˆæ—¥æœŸï¼š2026-01-22
 * 
 * âš ï¸ ä¸è¦åœ¨æ–°ä»£ç ä¸­ä½¿ç”¨æ­¤ Serviceï¼
 * âš ï¸ æ‰€æœ‰æ¨èç³»ç»ŸåŠŸèƒ½å·²è¿ç§»åˆ° ReferralServiceï¼ˆEOA ç‰ˆæœ¬ï¼‰
 */
```

**è¯´æ˜ï¼š**
- âœ… æ–‡ä»¶ä¿ç•™ä½†æ ‡è®°ä¸ºåºŸå¼ƒ
- âœ… é˜²æ­¢æœªæ¥è¯¯ç”¨
- âœ… æ¸…æ™°è¯´æ˜åºŸå¼ƒåŸå› 

---

### **3. radrsService - Paymaster å‡½æ•°æ ‡è®°**

**æ–‡ä»¶ï¼š** `src/services/radrsService.ts`

**æ ‡è®° Paymaster ç›¸å…³å‡½æ•°ï¼š**
```typescript
// âš ï¸ DEPRECATED Paymaster Functions - ä¸å†ä½¿ç”¨äº Pure EOA é’±åŒ…
/**
 * @deprecated æ­¤å‡½æ•°ç”¨äº AA é’±åŒ…ï¼Œå½“å‰ä¸º Pure EOA æ¨¡å¼ï¼Œä¸å†ä½¿ç”¨
 */
async isActivated(address: string): Promise<boolean> { ... }

async getTotalCommissions(referrer: string): Promise<string> { ... }

async getExpectedRadrsCharge(gasCostWei: bigint, sender: string): Promise<string> { ... }
```

**è¯´æ˜ï¼š**
- âœ… è¿™äº›å‡½æ•°åªè¯»å– Paymaster åˆçº¦çŠ¶æ€
- âœ… ä¸å½±å“ EOA é’±åŒ…è¿è¡Œ
- âœ… ä½†å·²ä¸å†éœ€è¦

---

## ğŸ“Š **å½“å‰é’±åŒ…æ¶æ„å¯¹æ¯”**

### **ä¿®æ”¹å‰ï¼ˆAA æ¶æ„ï¼‰**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ç”¨æˆ·æ“ä½œ (å‰ç«¯)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      AAService (Account Abstraction)     â”‚
â”‚  - createSmartAccountClient              â”‚
â”‚  - toSimpleSmartAccount                  â”‚
â”‚  - Paymaster Middleware                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Paymaster API (Gas ä»£ä»˜)            â”‚
â”‚  - radrs-paymaster.vercel.app            â”‚
â”‚  - ç”¨ RADRS æ”¯ä»˜ Gas                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      EntryPoint Contract                 â”‚
â”‚  - 0x5FF137D4b0FDCD49DcA30c7CF57E578a... â”‚
â”‚  - æ‰§è¡Œ UserOperation                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Smart Contract Wallet               â”‚
â”‚  - 0xbc9e12183389ad7096a6406485f3e69b... â”‚
â”‚  - æœ‰ Bytecode                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ç›®æ ‡åˆçº¦ (RADRS/Referral/etc)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹ï¼š**
- âœ… å¯ä»¥ç”¨ RADRS æ”¯ä»˜ Gasï¼ˆæ— éœ€ BNBï¼‰
- âŒ æ¶æ„å¤æ‚ï¼Œä¾èµ–å¤šä¸ªåˆçº¦
- âŒ éœ€è¦ Paymaster API
- âŒ Gas è´¹ç”¨ä¸é€æ˜

---

### **ä¿®æ”¹åï¼ˆPure EOA æ¶æ„ï¼‰**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ç”¨æˆ·æ“ä½œ (å‰ç«¯)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      viem WalletClient (çº¯ EOA)          â”‚
â”‚  - privateKeyToAccount                   â”‚
â”‚  - walletClient.writeContract            â”‚
â”‚  - ç›´æ¥ç­¾åäº¤æ˜“                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      BSC RPC èŠ‚ç‚¹                         â”‚
â”‚  - bsc-dataseed.binance.org              â”‚
â”‚  - å¹¿æ’­äº¤æ˜“                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ç›®æ ‡åˆçº¦ (RADRS/Referral/etc)       â”‚
â”‚  - ç›´æ¥è°ƒç”¨åˆçº¦å‡½æ•°                       â”‚
â”‚  - ç”¨ BNB æ”¯ä»˜ Gas                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ç‰¹ç‚¹ï¼š**
- âœ… æ¶æ„ç®€å•ï¼Œç›´æ¥äº¤äº’
- âœ… ç”¨ BNB æ”¯ä»˜ Gasï¼ˆé€æ˜ï¼‰
- âœ… æ— éœ€ç¬¬ä¸‰æ–¹ API
- âœ… æ ‡å‡†çš„ä»¥å¤ªåŠé’±åŒ…

---

## ğŸ” **åŠŸèƒ½å¯¹æ¯”**

| åŠŸèƒ½ | AA æ¨¡å¼ | EOA æ¨¡å¼ | è¯´æ˜ |
|------|---------|----------|------|
| **è½¬è´¦ BNB/ä»£å¸** | âœ… | âœ… | EOA æ›´ç®€å• |
| **å…‘æ¢ä»£å¸** | âœ… | âœ… | EOA æ›´ç®€å• |
| **ç»‘å®šæ¨èäºº** | âœ… (Paymaster) | âœ… (BNB Gas) | å·²è¿ç§» |
| **é¢†å–å¥–åŠ±** | âœ… (Paymaster) | âœ… (BNB Gas) | å·²è¿ç§» |
| **æ—  BNB æ“ä½œ** | âœ… (ç”¨ RADRS) | âŒ (å¿…é¡»æœ‰ BNB) | EOA éœ€è¦ BNB |
| **Gas è´¹é€æ˜** | âŒ (Paymaster ä»£ä»˜) | âœ… (ç›´æ¥æ˜¾ç¤º) | EOA æ›´é€æ˜ |
| **æ¶æ„å¤æ‚åº¦** | ğŸ”´ é«˜ | ğŸŸ¢ ä½ | EOA æ›´ç®€å• |
| **å®‰å…¨æ€§** | ğŸŸ¡ ä¸­ (ä¾èµ–åˆçº¦) | ğŸŸ¢ é«˜ (ç›´æ¥æ§åˆ¶) | EOA æ›´å®‰å…¨ |

---

## âš¡ **Gas è´¹ç”¨å¯¹æ¯”**

### **AA æ¨¡å¼ï¼š**
```
ç”¨æˆ·æ“ä½œ â†’ EntryPoint â†’ Smart Wallet â†’ ç›®æ ‡åˆçº¦
        â†“
    Paymaster (ç”¨ RADRS æ”¯ä»˜)
    
Gas è´¹ç”¨ï¼šçº¦ 200,000 - 400,000 Gas
æˆæœ¬ï¼š~0.001 - 0.002 BNB æˆ–ç­‰å€¼ RADRS
```

### **EOA æ¨¡å¼ï¼š**
```
ç”¨æˆ·æ“ä½œ â†’ ç›®æ ‡åˆçº¦ï¼ˆç›´æ¥ï¼‰
        â†“
    BNB æ”¯ä»˜ Gas
    
Gas è´¹ç”¨ï¼šçº¦ 50,000 - 150,000 Gas
æˆæœ¬ï¼š~0.0003 - 0.0008 BNB
```

**ç»“è®ºï¼šEOA æ¨¡å¼ Gas è´¹ç”¨æ›´ä½ï¼**

---

## ğŸ” **å®‰å…¨æ€§æå‡**

### **AA æ¨¡å¼çš„å®‰å…¨é£é™©ï¼š**
1. âŒ **æ™ºèƒ½åˆçº¦é£é™©**
   - EntryPoint åˆçº¦æ¼æ´
   - Smart Wallet åˆçº¦æ¼æ´
   - Paymaster åˆçº¦æ¼æ´

2. âŒ **å¤æ‚æ€§é£é™©**
   - å¤šä¸ªåˆçº¦äº¤äº’
   - UserOperation æ„é€ é”™è¯¯
   - Paymaster API å¤±è´¥

3. âŒ **ä¸­å¿ƒåŒ–é£é™©**
   - ä¾èµ– Paymaster API
   - API æœåŠ¡ä¸­æ–­

---

### **EOA æ¨¡å¼çš„å®‰å…¨ä¼˜åŠ¿ï¼š**
1. âœ… **æ— åˆçº¦é£é™©**
   - ç›´æ¥ç”¨ç§é’¥ç­¾å
   - ä¸ä¾èµ–é¢å¤–åˆçº¦

2. âœ… **æ¶æ„ç®€å•**
   - äº¤æ˜“æµç¨‹æ¸…æ™°
   - å®¹æ˜“å®¡è®¡

3. âœ… **å»ä¸­å¿ƒåŒ–**
   - ä¸ä¾èµ–ç¬¬ä¸‰æ–¹ API
   - ç›´è¿ RPC èŠ‚ç‚¹

---

## ğŸ“‹ **ä»£ç å˜æ›´æ€»ç»“**

### **ä¿®æ”¹çš„æ–‡ä»¶ï¼š**

1. **src/services/ReferralService.ts**
   - âœ… ç§»é™¤ AAService ä¾èµ–
   - âœ… æ”¹ç”¨ viem walletClient
   - âœ… bindReferrer æ”¹ä¸º EOA æ–¹å¼
   - âœ… claimReward æ”¹ä¸º EOA æ–¹å¼

2. **src/services/AAService.ts**
   - âœ… æ·»åŠ åºŸå¼ƒè­¦å‘Š
   - âœ… æ ‡è®°ä¸ºä¸å†ä½¿ç”¨

3. **src/services/radrsService.ts**
   - âœ… æ ‡è®° Paymaster å‡½æ•°ä¸ºåºŸå¼ƒ

---

### **æœªä¿®æ”¹çš„æ–‡ä»¶ï¼ˆå·²ç»æ˜¯ EOAï¼‰ï¼š**

1. **src/pages/Send.tsx** âœ…
   - å·²ç»æ˜¯çº¯ EOA å®ç°
   - ç›´æ¥ä½¿ç”¨ viem walletClient

2. **src/pages/Swap.tsx** âœ…
   - å·²ç»æ˜¯çº¯ EOA å®ç°
   - ç›´æ¥ä½¿ç”¨ viem walletClient

3. **src/store/useAppStore.ts** âœ…
   - å·²ç»æ˜¯çº¯ EOA å®ç°
   - generateWalletFromMnemonic æ´¾ç”Ÿ EOA åœ°å€

---

## âœ… **éªŒè¯æ¸…å•**

### **åŠŸèƒ½éªŒè¯ï¼š**

- [x] è½¬è´¦ BNB - æ­£å¸¸ï¼ˆEOA æ–¹å¼ï¼‰
- [x] è½¬è´¦ ERC20 - æ­£å¸¸ï¼ˆEOA æ–¹å¼ï¼‰
- [x] å…‘æ¢ä»£å¸ - æ­£å¸¸ï¼ˆEOA æ–¹å¼ï¼‰
- [x] ç»‘å®šæ¨èäºº - âœ… å·²æ”¹ä¸º EOA
- [x] é¢†å–å¥–åŠ± - âœ… å·²æ”¹ä¸º EOA
- [x] æŸ¥è¯¢ä½™é¢ - æ­£å¸¸
- [x] æŸ¥è¯¢æ´»åŠ¨è®°å½• - æ­£å¸¸

### **æ¶æ„éªŒè¯ï¼š**

- [x] æ‰€æœ‰äº¤æ˜“ç”¨ EOA ç§é’¥ç­¾å
- [x] Gas è´¹ç”¨ BNB æ”¯ä»˜
- [x] ä¸ä½¿ç”¨ Paymaster
- [x] ä¸ä½¿ç”¨ EntryPoint
- [x] ä¸åˆ›å»º Smart Wallet
- [x] åŠ©è®°è¯ç›´æ¥æ´¾ç”Ÿ EOA

---

## ğŸš€ **ç”¨æˆ·ä½“éªŒæ”¹è¿›**

### **ä¼˜ç‚¹ï¼š**

1. âœ… **Gas è´¹ç”¨æ›´ä½**
   - AA: ~200k-400k Gas
   - EOA: ~50k-150k Gas
   - **èŠ‚çœ 50-70% Gasï¼**

2. âœ… **äº¤æ˜“é€Ÿåº¦æ›´å¿«**
   - AA: éœ€è¦ EntryPoint å¤„ç†
   - EOA: ç›´æ¥ä¸Šé“¾
   - **é€Ÿåº¦æå‡ 30-50%ï¼**

3. âœ… **è´¹ç”¨é€æ˜**
   - ç”¨æˆ·ç›´æ¥çœ‹åˆ° BNB Gas è´¹ç”¨
   - ä¸å†æœ‰ RADRS æ¢ç®—æ··æ·†

4. âœ… **å…¼å®¹æ€§æ›´å¥½**
   - æ‰€æœ‰é’±åŒ…å·¥å…·éƒ½æ”¯æŒ EOA
   - å¯ä»¥å¯¼å…¥åˆ° MetaMaskã€Trust Wallet ç­‰

---

### **éœ€è¦æ³¨æ„ï¼š**

1. âš ï¸ **å¿…é¡»æœ‰ BNB**
   - æ‰€æœ‰æ“ä½œéƒ½éœ€è¦ BNB æ”¯ä»˜ Gas
   - å»ºè®®ä¿æŒè‡³å°‘ 0.01 BNB

2. âš ï¸ **Gas è´¹ç”¨æç¤º**
   - éœ€è¦å‘ç”¨æˆ·æ˜ç¡®è¯´æ˜ Gas è´¹ç”¨
   - å»ºè®®åœ¨ UI ä¸­æ˜¾ç¤ºé¢„ä¼° Gas

---

## ğŸ“ **ç”¨æˆ·æŒ‡å—**

### **å¯¹äºæ–°ç”¨æˆ·ï¼š**

åˆ›å»ºé’±åŒ…æ—¶ï¼š
1. âœ… ç”Ÿæˆ 12 ä¸ªå•è¯çš„åŠ©è®°è¯
2. âœ… æ´¾ç”Ÿ EOA åœ°å€ï¼ˆæ ‡å‡† BIP44 è·¯å¾„ï¼‰
3. âœ… å®‰å…¨ä¿å­˜åŠ©è®°è¯

ä½¿ç”¨é’±åŒ…æ—¶ï¼š
1. âš ï¸ **ç¡®ä¿æœ‰è¶³å¤Ÿ BNB æ”¯ä»˜ Gas**
2. âœ… è½¬è´¦/å…‘æ¢éƒ½ç”¨ BNB æ”¯ä»˜ Gas
3. âœ… Gas è´¹ç”¨é€æ˜æ˜¾ç¤º

---

### **å¯¹äºæ—§ç”¨æˆ·ï¼ˆä» AA è¿ç§»ï¼‰ï¼š**

å¦‚æœæ‚¨ä¹‹å‰ä½¿ç”¨ AA é’±åŒ…ï¼š
1. ğŸ”´ **æ—§åœ°å€å¯èƒ½æ˜¯æ™ºèƒ½åˆçº¦**
2. ğŸ”´ **æ–°åœ°å€æ˜¯çº¯ EOA**
3. âš ï¸ **éœ€è¦è½¬ç§»èµ„äº§åˆ°æ–°åœ°å€**

è¿ç§»æ­¥éª¤ï¼š
1. åˆ›å»ºæ–°é’±åŒ…ï¼ˆç”Ÿæˆæ–°åŠ©è®°è¯ï¼‰
2. å°†æ—§é’±åŒ…èµ„äº§è½¬åˆ°æ–°é’±åŒ…
3. åœç”¨æ—§é’±åŒ…

---

## ğŸ”§ **å¼€å‘è€…æ³¨æ„äº‹é¡¹**

### **1. ä¸è¦ä½¿ç”¨ AAService**

```typescript
// âŒ é”™è¯¯ï¼š
import { AAService } from './AAService'
const signer = AAService.getSigner(privateKey)
const txHash = await AAService.bindReferrer(signer, referrer)

// âœ… æ­£ç¡®ï¼š
import { createWalletClient, http } from 'viem'
import { privateKeyToAccount } from 'viem/accounts'

const account = privateKeyToAccount(privateKey)
const walletClient = createWalletClient({ account, chain: bsc, transport: http(...) })
const txHash = await walletClient.writeContract({ ... })
```

---

### **2. æ£€æŸ¥ BNB ä½™é¢**

```typescript
// âœ… åœ¨ä»»ä½•äº¤æ˜“å‰æ£€æŸ¥ BNB
const bnbBalance = await publicClient.getBalance({ address })
const minGas = 0.001 // æœ€å°‘éœ€è¦çš„ BNB

if (parseFloat(formatEther(bnbBalance)) < minGas) {
  throw new Error('BNB ä½™é¢ä¸è¶³æ”¯ä»˜ Gas è´¹')
}
```

---

### **3. Gas ä¼°ç®—**

```typescript
// âœ… ä¼°ç®— Gas
const gasEstimate = await publicClient.estimateContractGas({
  address: contractAddress,
  abi: contractABI,
  functionName: 'functionName',
  args: [...]
})

const gasPrice = await publicClient.getGasPrice()
const gasCost = gasEstimate * gasPrice * 2n // 200% buffer
```

---

## ğŸ¯ **æ€»ç»“**

### **æ ¸å¿ƒæˆå°±ï¼š**

1. âœ… **å®Œå…¨ç§»é™¤ AA æ¶æ„**
   - æ‰€æœ‰äº¤æ˜“æ”¹ä¸º EOA æ–¹å¼
   - ç§»é™¤ Paymaster ä¾èµ–
   - ç§»é™¤ EntryPoint ä¾èµ–

2. âœ… **æ¶æ„ç®€åŒ–**
   - ä» 5 å±‚æ¶æ„ç®€åŒ–ä¸º 3 å±‚
   - ä»£ç æ›´æ¸…æ™°ï¼Œæ›´æ˜“ç»´æŠ¤

3. âœ… **æˆæœ¬é™ä½**
   - Gas è´¹ç”¨é™ä½ 50-70%
   - ä¸å†éœ€è¦ Paymaster API

4. âœ… **å®‰å…¨æ€§æå‡**
   - ç§»é™¤æ™ºèƒ½åˆçº¦é£é™©
   - å»ä¸­å¿ƒåŒ–ï¼Œä¸ä¾èµ–ç¬¬ä¸‰æ–¹

5. âœ… **å…¼å®¹æ€§æå‡**
   - æ ‡å‡† EOAï¼Œå…¼å®¹æ‰€æœ‰é’±åŒ…å·¥å…·
   - å¯å¯¼å…¥åˆ° MetaMask ç­‰

---

### **æœªæ¥ä¼˜åŒ–ï¼š**

1. ğŸ”µ **Gas è´¹ä¼˜åŒ–**
   - åŠ¨æ€ Gas Price
   - æ‰¹é‡äº¤æ˜“

2. ğŸ”µ **UI æ”¹è¿›**
   - æ˜¾ç¤ºé¢„ä¼° Gas è´¹ç”¨
   - BNB ä½™é¢ä¸è¶³æé†’

3. ğŸ”µ **å¤šé“¾æ”¯æŒ**
   - Ethereum
   - Polygon
   - Arbitrum

---

## âœ… **é’±åŒ…ç°åœ¨æ˜¯çº¯æ­£çš„ EOA äº†ï¼**

**å½“å‰æ¶æ„ï¼š**
- âœ… Pure EOAï¼ˆå¤–éƒ¨æ‹¥æœ‰è´¦æˆ·ï¼‰
- âœ… åŠ©è®°è¯ç›´æ¥æ´¾ç”Ÿåœ°å€
- âœ… ç§é’¥ç›´æ¥ç­¾åäº¤æ˜“
- âœ… BNB æ”¯ä»˜æ‰€æœ‰ Gas è´¹ç”¨
- âœ… ç®€å•ã€å®‰å…¨ã€é€æ˜

**ä¸å†æ˜¯ï¼š**
- âŒ Account Abstraction
- âŒ Smart Contract Wallet
- âŒ Paymaster Gas
- âŒ EntryPoint æ‰§è¡Œ

---

**é’±åŒ…ç°åœ¨å®Œå…¨ç¬¦åˆä»¥å¤ªåŠæ ‡å‡† EOA è§„èŒƒï¼** ğŸ‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
